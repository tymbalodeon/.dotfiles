[[language]]
name = "bash"
auto-format = true
formatter = { command = "shfmt" }

[[language]]
name = "c"
auto-format = true

[[language]]
name = "css"
formatter = { command = "prettier", args = ["--parser", "css"] }
language-servers = ["stylelint"]

[[language]]
name = "java"
auto-format = true

[[language]]
name = "javascript"
auto-format = true

[[language]]
name = "json"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "json"] }

[[language]]
name = "jsonc"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "jsonc"] }

[[language]]
name = "markdown"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "markdown"] }
soft-wrap = { enable = true, wrap-at-text-width = true }

[[language]]
name = "nix"
auto-format = true
formatter = { command = "alejandra" }

[[language]]
name = "python"
auto-format = true
formatter = { command = "uvx", args = [
  "sh",
  "-c",
  "ruff check --fix - | ruff format -",
] }
language-servers = ["pyright", "ruff"]

[[language]]
name = "rust"
formatter = { command = "rustfmt" }

[[language]]
name = "toml"
auto-format = true
soft-wrap = { enable = true, wrap-at-text-width = true }

[[language]]
name = "txt"
file-types = ["txt"]
scope = "text.txt"
soft-wrap = { enable = true, wrap-at-text-width = true }

[[language]]
name = "tsx"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "typescript"] }

[[language]]
name = "typst"
auto-format = true
formatter = { command = "typstyle" }
language-servers = ["harper-ls", "tinymist"]

[[language]]
name = "yaml"
auto-format = true
formatter = { command = "yamlfmt", args = ["-"] }

[language-server.harper-ls]
command = "harper-ls"
args = ["--stdio"]

[language-server.ruff]
command = "ruff-lsp"

[language-server.stylelint]
command = "stylelint"
config = { rules = { at-rule-no-unknown = false } }
