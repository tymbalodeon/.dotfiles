#!/usr/bin/env bash

_subcommands add "tags"

_subcommands describe "tags" <<HEREDOC
Usage:
  nb tags <search?>

Description:
  List all tags in alphabetical order, or search tags for <search>
HEREDOC

_tags() {
	tags="$(
		nu -c "\
	    	nb --tags
	    	| str replace --all '#' ''
	    	| lines
	    	| sort
	    	| to text --no-newline"
	)"

	if [ "$#" -ne 1 ]; then
		echo "$tags"
	else
		echo "$tags" | grep "$1"
	fi
}
